# Release 0.3.1 - Enhanced Release Workflow

**Release Date:** 2026-01-13  
**Version:** 0.3.1  
**Status:** âœ… Released

## ğŸ¯ Overview

This release enhances the GitHub Actions release workflow to use detailed
version-specific release notes when available, improving the release documentation
and user experience. It also includes Makefile consolidation and documentation
distribution improvements.

## ğŸš€ Major Changes

### Enhanced Release Workflow

The GitHub Actions release workflow now intelligently uses detailed release notes:

**Smart Release Notes Generation:**

- âœ… Checks for version-specific release notes in `doc/release_notes/v{VERSION}.md`
- âœ… Uses detailed markdown file if available (like this document!)
- âœ… Falls back to generic notes with proper branding if not found
- âœ… Includes relevant documentation links
- âœ… Provides clear installation and usage instructions

**Workflow Implementation:**

```yaml
- name: Generate release notes
  run: |
    VERSION="${{ steps.version.outputs.version }}"
    RELEASE_NOTES_FILE="doc/release_notes/v${VERSION}.md"
    
    # Check if detailed release notes exist
    if [ -f "$RELEASE_NOTES_FILE" ]; then
      echo "Using detailed release notes from $RELEASE_NOTES_FILE"
      cp "$RELEASE_NOTES_FILE" release_notes.md
    else
      # Generate generic notes with proper branding
      ...
    fi
```

**Benefits:**

- ğŸ“ Professional, comprehensive release notes
- ğŸ¯ Consistent release documentation
- ğŸ”— Better user guidance with links
- ğŸš€ Automated process for maintainers

### Release Notes Collection

Added comprehensive release notes for all versions:

**Current Releases:**

- âœ… [v0.3.0](v0.3.0.md) - Comprehensive Documentation release
- âœ… [v0.3.1](v0.3.1.md) - This release (Enhanced Release Workflow)

**Future Releases:**

- Template ready for upcoming versions
- Consistent format and structure
- Easy to maintain and update

### Makefile Consolidation

Standardized Makefile with OraDBA conventions:

**Variable Updates:**

- Renamed to match oradba naming: `COLOR_*` variables
- Direct tool detection without subshells
- Improved performance and readability

**Target Renames:**

- `lint-sh` â†’ `lint-shell` (with backward-compatible alias)
- `lint-md` â†’ `lint-markdown` (with backward-compatible alias)
- Standardized target naming across all OraDBA projects

**Improvements:**

- âœ… Consistent error messages and formatting
- âœ… Aligned section headers with oradba/Makefile
- âœ… Maintained extension-specific features (tools, info, status, shortcuts)
- âœ… Better documentation in help output

### GitHub Actions Updates

**CI Workflow:**

- Updated to use standardized Makefile targets
- Uses `make lint-shell` and `make lint-markdown`
- Consistent with other OraDBA projects

**Release Workflow:**

- Uses `make ci` for comprehensive checks
- Improved consistency and maintainability
- Better error reporting

### Documentation Distribution

**Updated Build Process:**

- `.extension` file now includes `doc` in provides section
- `scripts/build.sh` includes `doc` folder in tarball
- Documentation distributed with extension template
- Users get complete docs with every installation

## ğŸ“‹ Technical Details

### Release Workflow Changes

**Before (Generic Notes):**

```bash
cat > release_notes.md <<EOF
# OraDBA Extension Template v${VERSION}
Extension template tarball for OraDBA.
...
EOF
```

**After (Smart Detection):**

```bash
if [ -f "doc/release_notes/v${VERSION}.md" ]; then
  cp "doc/release_notes/v${VERSION}.md" release_notes.md
else
  # Generate comprehensive generic notes with:
  # - Project name and description
  # - Installation instructions
  # - Documentation links
  # - Usage examples
  # - What's Changed section
fi
```

### Makefile Changes

**Variable Standardization:**

```makefile
# Old
COLOR_RESET := $(shell tput sgr0)

# New
COLOR_RESET = $(shell tput sgr0 2>/dev/null || echo '')
```

**Target Consolidation:**

```makefile
# Renamed targets
lint-shell: shellcheck
lint-markdown: markdownlint

# Backward compatibility
lint-sh: lint-shell
lint-md: lint-markdown
```

### Documentation Structure

```text
doc/
â”œâ”€â”€ index.md
â”œâ”€â”€ installation.md
â”œâ”€â”€ configuration.md
â”œâ”€â”€ reference.md
â”œâ”€â”€ development.md
â””â”€â”€ release_notes/
    â”œâ”€â”€ v0.3.0.md
    â””â”€â”€ v0.3.1.md
```

## ğŸ”§ Usage Examples

### Creating a Release

**With Detailed Release Notes:**

```bash
# 1. Create release notes file
cat > doc/release_notes/v0.4.0.md <<EOF
# Release 0.4.0 - New Features
...
EOF

# 2. Update VERSION and CHANGELOG
echo "0.4.0" > VERSION
# Update CHANGELOG.md

# 3. Commit and tag
git add VERSION CHANGELOG.md doc/release_notes/v0.4.0.md
git commit -m "chore: Release v0.4.0"
git tag -a v0.4.0 -m "Release v0.4.0"
git push origin main --tags

# 4. GitHub Actions automatically uses your detailed release notes!
```

**Without Detailed Release Notes:**

```bash
# Simply tag the release
git tag -a v0.4.0 -m "Release v0.4.0"
git push origin v0.4.0

# Workflow generates generic but informative release notes
```

### Makefile Usage

**New Standardized Targets:**

```bash
# Lint shell scripts
make lint-shell

# Lint markdown files
make lint-markdown

# Run full CI suite
make ci
```

**Backward Compatible:**

```bash
# Old aliases still work
make lint-sh
make lint-md
```

## ğŸ”„ Migration Notes

### For Maintainers

**No Breaking Changes:**

- Old Makefile targets still work via aliases
- Existing workflows continue to function
- Gradual adoption of new targets recommended

**Recommended Updates:**

1. Update scripts to use new target names
2. Create release notes for future versions
3. Review and update generic fallback template
4. Test workflow in development environment

### For Extension Developers

**If Using This Template:**

1. Update your fork/clone
2. Adopt new Makefile structure
3. Create release notes directory
4. Document your releases

**Benefits:**

- Professional release documentation
- Consistent with OraDBA projects
- Better user experience
- Easier maintenance

## ğŸ“¦ Installation

### Upgrade from 0.3.0

```bash
cd oradba_extension
git pull origin main
make install
```

### Fresh Installation

```bash
# From GitHub release
curl -LO https://github.com/oehrlis/oradba_extension/releases/download/v0.3.1/extension-template-0.3.1.tar.gz
tar xzf extension-template-0.3.1.tar.gz

# From source
git clone https://github.com/oehrlis/oradba_extension.git
cd oradba_extension
make install
```

## ğŸ§ª Testing

### Pre-Release Testing

```bash
# Run linting
make lint
# âœ“ Shellcheck passed
# âœ“ Markdownlint passed

# Run tests
make test
# âœ“ All tests passed

# Full CI validation
make ci
# âœ“ CI checks passed
```

### Workflow Testing

**Manual Workflow Dispatch:**

```bash
# Via GitHub UI
1. Go to Actions â†’ Release
2. Click "Run workflow"
3. Enter version: 0.3.1
4. Workflow uses detailed release notes automatically
```

**Tag-Based Release:**

```bash
git tag -a v0.3.1 -m "Release v0.3.1"
git push origin v0.3.1
# Workflow triggers automatically
```

## ğŸ“š Documentation

### Release Notes Format

Each release note should include:

**Required Sections:**

- Overview
- Major Changes/Features
- Technical Details
- Usage Examples
- Migration Notes
- Installation Instructions
- Testing Information

**Optional Sections:**

- Known Issues
- What's Next
- Contributors
- Learning Resources
- Best Practices

**Example Structure:**

```markdown
# Release X.Y.Z - Title

**Release Date:** YYYY-MM-DD
**Version:** X.Y.Z
**Status:** âœ… Released

## ğŸ¯ Overview
...

## ğŸš€ Major Changes
...
```

### Documentation Links

- **Installation:** [doc/installation.md](../installation.md)
- **Configuration:** [doc/configuration.md](../configuration.md)
- **Development:** [doc/development.md](../development.md)
- **Previous Release:** [v0.3.0](v0.3.0.md)

## ğŸ› Known Issues

None. All changes are backward compatible and thoroughly tested.

## ğŸ”® What's Next

### Version 0.4.0 (Planned)

- Additional extension templates
- Enhanced testing framework
- More documentation examples
- Performance improvements

### Future Enhancements

- Automated release note generation from commits
- Release note templates
- Multi-language documentation
- Interactive changelog

## ğŸ’¡ Best Practices

### Release Management

**Do:**

- âœ… Create detailed release notes for all releases
- âœ… Follow semantic versioning
- âœ… Test thoroughly before tagging
- âœ… Update VERSION and CHANGELOG
- âœ… Include migration guidance

**Don't:**

- âŒ Skip release notes for "minor" releases
- âŒ Forget to update documentation
- âŒ Tag without testing
- âŒ Break backward compatibility without notice
- âŒ Release without changelog entry

### Documentation

**Release Notes Should:**

- Explain "why" not just "what"
- Include code examples
- Provide migration paths
- Link to related documentation
- Be user-focused

**Avoid:**

- Technical jargon without explanation
- Assuming prior knowledge
- Incomplete migration instructions
- Missing links to documentation
- Vague descriptions

## ğŸ‘¥ Contributors

- Stefan Oehrli (@oehrlis) - Project maintainer

## ğŸ“ Full Changelog

See [CHANGELOG.md](../../CHANGELOG.md#031---2026-01-13) for complete details.

## ğŸ”— Resources

- **Repository:** <https://github.com/oehrlis/oradba_extension>
- **Documentation:** [doc/index.md](../index.md)
- **Releases:** <https://github.com/oehrlis/oradba_extension/releases>
- **Issues:** <https://github.com/oehrlis/oradba_extension/issues>
- **Changelog:** [CHANGELOG.md](../../CHANGELOG.md)

## ğŸ“ Learning from This Release

### Key Takeaways

1. **Automation + Quality:** Automated workflows with quality content
2. **Flexibility:** Smart detection with good fallbacks
3. **Consistency:** Standardized across projects
4. **User Focus:** Better documentation for users
5. **Maintainability:** Easier to maintain and update

### Applying to Your Projects

**Steps:**

1. Create `doc/release_notes/` directory
2. Update release workflow to check for release notes
3. Write detailed notes for each release
4. Test workflow with and without notes
5. Maintain consistency across releases

**Benefits:**

- Professional releases
- Better user communication
- Historical documentation
- Reduced support burden

---

**Previous Release:** [v0.3.0](v0.3.0.md)  
**Next Release:** TBD
